
# Elacticsearch

> ## 시스템 구조
- 클러스터 : 독립된 ES 시스템 환경. 1개 이상의 노드로 구성.
- 노드 : 실행중인 ES 시스템 프로세스
- 도큐먼트 : 저장된 단일 데이터 단위
- 인덱스 : 도큐먼트의 논리적 집합. 1개 이상의 샤드로 구성.
- 샤드 : 색인& 검색을 진행하는 작업 단위
  - 프라이머리 샤드와 복제본으로 구성.
  - 각 샤드들은 클러스터 내의 노드들에 분산되어 저장
  - 같은 프라이머리 샤드와 복제본은 같은 데이터셋을 담고 있으며 반드시 다른 노드에 저장.
  - 데이터 노드가 1개인 경우 복제본은 생성되지 않음.
  
- 복제본을 통해 무결성 유지.
- 노드가 유실되면 남아있는 샤드의 데이터를 다른 노드로 복사. (노드가 줄어도, 샤드를 다른 노드로 복사하여 샤드가 유실되지 않도록 함)

> ## 데이터 구조
- 각 인덱스별로 프라이머리 샤드와 복제본 세트 수 설정 (프라이머리 5 복제본 1 -> 10개의 샤드)
- 복제본 수는 변경 가능하지만 프라이머리 샤드 수는 기본적으로 처음 인덱스 생성 시점에서 설정 이후 변경 불가능.
- 데이터 색인시 인덱스의 모든 샤드에 <u>Round-robin</u> 방식으로 입력
- 사용자는 어떤 도큐먼트가 어떤 샤드에 적재되는지 알 수 없고 알 필요도 없음.

### RDBS 와 비교
- 작성중








[ReferenceLink]
https://youtu.be/JqKDIg8fgd8